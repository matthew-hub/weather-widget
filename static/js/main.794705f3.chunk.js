(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(19)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(2),i=a.n(c),l=(a(14),a(3)),s=a(4),o=a(6),u=a(5),m=a(7),d=(a(15),a(16),function(e){var t=new Date(e.date).getDay(),a=e.days.map(function(a,n){var c=new Date(a.date).getDay(),i="fanhrenheit"===e.tempType?Math.round(9*a.temperature/5+32):a.temperature;return r.a.createElement("div",{className:"weather__days__list",key:n},r.a.createElement("div",{className:"list__day"},c===t?"Today":e.daysNames[c]),r.a.createElement("div",{className:"list__avatar ".concat(a.type.toLowerCase())}),r.a.createElement("div",{className:"list__temp"},i,"fanhrenheit"===e.tempType?r.a.createElement("sup",null,"\xb0F"):r.a.createElement("sup",null,"\xb0C")),r.a.createElement("div",{className:"list__pollen"},"Pollen "+a.pollenCount))});return r.a.createElement(r.a.Fragment,null,a)}),h=(a(17),function(e){var t=e.cityData,a=t.cities,n=t.cityId,c=t.selectCity,i=t.click,l=a.map(function(e){return r.a.createElement("li",{onClick:function(){return i(e.id,e.name)},key:e.id},e.name)});return r.a.createElement("div",{className:"weather__city"},r.a.createElement("div",{className:"city__dropdown"},r.a.createElement("h3",null,null===n?"Select City":c),r.a.createElement("ul",{className:"city__list"},l)))}),p=function(e){var t=e.weather,a=t.cities,n=t.error,c=t.isLoaded,i=t.weather,l=t.cityId,s=t.selectCity,o=t.tempType,u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m={cityId:l,selectCity:s,cities:a,click:e.click},p=null,y=new Date(e.date),f=u[y.getDay()]+", "+["January","February","March","April","May","June","July","August","September","October","November","December"][y.getMonth()]+" "+y.getDate()+function(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(y.getDate());if(c&&i&&!n){var E="fanhrenheit"===o?Math.round(9*i[0].temperature/5+32):i[0].temperature,w=r.a.createElement("div",{className:"weather__info--temp"},E,r.a.createElement("sup",{className:"temp__active",onClick:function(){return e.tempChange(o)}},"\xb0"+o.charAt(0).toUpperCase()," | "),r.a.createElement("sup",{onClick:function(){"celsius"===o?e.tempChange("fanhrenheit"):e.tempChange("celsius")}},"celsius"===o?"\xb0F":"\xb0C")),v=i[0].type.replace(/([A-Z])/g," $1").trim();v=(v=v.toLowerCase()).charAt(0).toUpperCase()+v.slice(1),p=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"weather__info"},r.a.createElement("div",{className:"weather__info--date"},f),r.a.createElement("div",{className:"weather__info--type"},v),r.a.createElement("div",{className:"weather__info--avatar ".concat(i[0].type.toLowerCase())}),r.a.createElement("div",{className:"weather__info--temp"},w),r.a.createElement("div",{className:"weather__info--more"},r.a.createElement("ul",null,r.a.createElement("li",null,"Precipitation: ",r.a.createElement("span",null,i[0].precipitation+"%")," "),r.a.createElement("li",null,"Humidity: ",r.a.createElement("span",null,i[0].humidity+"%")," "),r.a.createElement("li",null,"Wind: ",r.a.createElement("span",null,i[0].windInfo.speed+" mph "+i[0].windInfo.direction)," "),r.a.createElement("li",null,"Pollen Count: ",r.a.createElement("span",null,i[0].pollenCount)," ")))),r.a.createElement("div",{className:"weather__days"},r.a.createElement(d,{days:i,tempType:o,date:e.date,daysNames:u})))}return r.a.createElement("div",{className:"weather"},r.a.createElement(h,{cityData:m}),!1===c?r.a.createElement("h3",null,"Loadding..."):p)},y=(a(18),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).currentDate=(new Date).toISOString().slice(0,10),a.state={cities:[],cityId:null,selectCity:"",isLoaded:!1,error:!1,weather:"",tempType:"fanhrenheit"},a.handleTempChange=function(e){a.setState({tempType:e})},a.handleCityChange=function(e,t){a.setState({cityId:e,selectCity:t,isLoaded:!1},a.fetchWeather)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"fetchCity",value:function(){var e=this;fetch("https://dev-weather-api.azurewebsites.net/api/city").then(function(e){if(e.ok)return e.json();throw Error("Download data error")}).then(function(t){e.setState({cities:t,cityId:t[0].id,selectCity:t[0].name},e.fetchWeather)}).catch(function(t){e.setState({error:t})})}},{key:"fetchWeather",value:function(){var e=this,t="https://dev-weather-api.azurewebsites.net/api/city/".concat(this.state.cityId,"/weather?date=").concat(this.currentDate);fetch(t).then(function(e){if(e.ok)return e.json();throw Error("Download data error")}).then(function(t){e.setState({weather:t,isLoaded:!0})})}},{key:"componentDidMount",value:function(){this.fetchCity()}},{key:"render",value:function(){return this.state.error?r.a.createElement("h1",null,this.state.error.message):r.a.createElement("div",{className:"App"},r.a.createElement(p,{date:this.currentDate,weather:this.state,click:this.handleCityChange,tempChange:this.handleTempChange}))}}]),t}(n.Component));i.a.render(r.a.createElement(y,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.794705f3.chunk.js.map